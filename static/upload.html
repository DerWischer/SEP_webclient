<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="/static/thirdParty/jquery/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="/static/thirdParty/font-awesome-4.7.0/css/font-awesome.min.css" />		
    
    <title>Swerea Login Page</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/thirdParty/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .row {
            background: #ccc;
            padding:5px;
            margin-top:5px;
        }
        .filename {
            margin-top:5px;
        }
    </style>
    <script>
        function el(name, options) {
            var el = document.createElement(name);
            if (!options) {
                return el;
            }
            if (options.id) {
                el.id = options.id;
            }
            if (options.class) {
                el.className = options.class;
            }
            if (options.html) {
                el.innerHTML = options.html;
            }
            $.each(options, function(key, value) {
                el.setAttribute(key, value);
            });
            return el;
        }
        $(document).ready(function() {
            $("#file-input").on("change", function() {
                $("#files-list").empty();
                $.each($("#file-input")[0].files, function(key,value) {
                    var row = el("section", {class:"row"});
                    var col = el("section", {class:"col-xs-1 col-sm-1 col-md-1 col-lg-1"});
                    var btn = el("button", {class:"btn btn-danger btn-lg"});
                    var i = el("i", {class:"fa fa-times fa-1x"});
                    btn.appendChild(i);
                    col.appendChild(btn);
                    //row.appendChild(col);
                    var col = el("section", {class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"});
                    var label = el("input", {class:"form-control input-lg", name:"filename", value:value.name});
                    col.appendChild(label);
                    row.appendChild(col);
                    $("#files-list").append(row);
                });
            });
        });
    </script>
  </head>
  <body>
      <form action="upload" method="POST" enctype="multipart/form-data">
          <input id="file-input" type="file" name="file" multiple/>
          <input type="submit" value="upload"/>
          <section class="container-fluid" id="files-list">
            
          </section>
      </form>
  </body>
</html>

